<script>

  window.PolymerApigility = window.PolymerApigility || {};

  PolymerApigility.RestUrlBehaviorImp = {

    properties: {

      /**
       * Service root url
       * e.g {{http://test}}
       */
      rootUrl: {
        type: String
      },

      /**
       * Service name
       * e.g http://test/{{serviceName}}
       */
      serviceName: {
        type: String
      },

      /**
       * Entity identifier
       * e.g http://test/nameTest/{{identify}}
       */
      identify: {
        type: String
      },

      /**
       * Service subname
       * e.g http://test/{{subServiceName}}/nameTest/testIdentify
       */
      subServiceName: {
        type: String
      },

      /**
       * Service subname
       * e.g http://test/testSubService/{{subIdentify}}/nameTest/testIdentify
       */
      subIdentify: {
        type: String
      }
    },

    buildUrl: function() {
      var url = this.rootUrl;
      // Attach subService
      if (this.subServiceName && this.subIdentify) {
        url = url + '/' + this.subServiceName + '/' + this.subIdentify
      }
      // Attach Service
      switch(true) {
        case (this.identify && this.serviceName.indexOf('identify') > 0):
          url = url + '/' + this.serviceName.replace('identify', this.identify);
          break;
        case (this.identify !== undefined && this.identify !== null && this.identify.length > 0):
          url = url + '/' + this.serviceName + '/' + this.identify;
          break;
        default:
          url = url + '/' + this.serviceName;
          break;
      }

      return url;
    }
  };
</script>