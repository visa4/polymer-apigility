<link rel="import" href="../../iron-ajax/iron-ajax.html">
<link rel="import" href="../api-config-behavior.html">
<link rel="import" href="../api-create-request.html">
<link rel="import" href="rest-response-behavior.html">
<link rel="import" href="rest-paginable-behavior.html">

<dom-module id="apigility-rest">

  <script>
    'use strict';

    Polymer({
      is: 'apigility-rest',

      behaviors: [
        PolymerApigility.ApiConfigBehaviorImpTest,
        PolymerApigility.ApiCreateRequestBehaviorImp,
        PolymerApigility.RestResponseBehaviorImp,
        PolymerApigility.RestPaginableBehaviorImp
      ],

      observers: [
        'get(identify, rootUrl)'
      ],

      get: function(identify, rootUrl) {
        this.createRequest('GET', identify);
      },

      getAll: function() {
        this.createRequest('GET', null, null, {"page": this.page, "page_size": this.pageSize});
      },

      post: function (data) {
        this.createRequest('POST', null, data);
      },

      put: function (identify, data) {
        this.createRequest('PUT', identify, data);
      },

      patch: function (identify, data) {
        this.createRequest('PATCH', identify, data);
      },

      delete: function(identify) {
        this.createRequest('DELETE', identify);
      }
    });
  </script>

</dom-module>