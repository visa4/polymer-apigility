<link rel="import" href="../../iron-ajax/iron-ajax.html">
<link rel="import" href="../api-config-behavior.html">
<link rel="import" href="../api-create-request-behavior.html">
<link rel="import" href="../auth/auth-error-handler-aware-behavior.html">
<link rel="import" href="rpc-url-behavior.html">
<link rel="import" href="rpc-response-behavior.html">

<dom-module id="apigility-rpc">
  <template>
    <iron-ajax id="ironAjax" content-type="{{contentType}}"></iron-ajax>
  </template>
  <script>
    'use strict';

    Polymer({
        is: 'apigility-rpc',

        properties: {

          auth: {
            type: Boolean,
            value: false
          },

          body : {
            type: Object
          },

          method : {
            type: String,
            value: 'GET'
          },

          headers: {
            type: Object,
            value: function() {
              return {};
            }
          },

          contentType: {
            type: String
          }
        },

      behaviors: [
        PolymerApigility.ApiConfigBehaviorImp,
        PolymerApigility.ApiCreateRequestBehaviorImp,
        PolymerApigility.AuthErrorHandlerAwareBehaviorImp,
        PolymerApigility.RpcUrlBehaviorImp,
        PolymerApigility.RpcResponseBehaviorImp
      ]
    });
  </script>

</dom-module>